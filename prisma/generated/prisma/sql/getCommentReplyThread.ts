/* !!! This is code generated by Prisma. Do not edit directly. !!! */
/* eslint-disable */
// biome-ignore-all lint: generated file
// @ts-nocheck
import * as $runtime from '@prisma/client/runtime/client'

/**
 * @param text
 */
export const getCommentReplyThread = $runtime.makeTypedQueryFactory(
  'WITH RECURSIVE comment_tree AS (\nSELECT\nc.id,\nc.content,\nc."userId",\nc."stampId",\nc."parentId",\nEXTRACT(EPOCH FROM c."createdAt") AS "createdAt",\nEXTRACT(EPOCH FROM c."updatedAt") AS "updatedAt",\n0 AS level,\njson_build_object(\n\'username\', u.username,\n\'usernameURL\', u."usernameURL",\n\'image\', u.image\n) AS user,\njson_build_object(\n\'id\', parent_u.id,\n\'username\', parent_u.username,\n\'usernameURL\', parent_u."usernameURL"\n) AS "replyToUser"\nFROM\n"Comment" c\nJOIN "User" u ON c."userId" = u.id\nLEFT JOIN "Comment" parent_c ON c."parentId" = parent_c.id\nLEFT JOIN "User" parent_u ON parent_c."userId" = parent_u.id\nWHERE\nc."parentId" = $1\n\nUNION ALL\n\nSELECT\nc.id,\nc.content,\nc."userId",\nc."stampId",\nc."parentId",\nEXTRACT(EPOCH FROM c."createdAt") AS "createdAt",\nEXTRACT(EPOCH FROM c."updatedAt") AS "updatedAt",\nct.level + 1,\njson_build_object(\n\'username\', u.username,\n\'usernameURL\', u."usernameURL",\n\'image\', u.image\n) AS user,\njson_build_object(\n\'id\', parent_u.id,\n\'username\', parent_u.username,\n\'usernameURL\', parent_u."usernameURL"\n) AS "replyToUser"\nFROM "Comment" c\nJOIN "User" u ON c."userId" = u.id\nLEFT JOIN "Comment" parent_c ON c."parentId" = parent_c.id\nLEFT JOIN "User" parent_u ON parent_c."userId" = parent_u.id\nJOIN comment_tree ct ON c."parentId" = ct.id\n)\nSELECT * FROM comment_tree\nORDER BY "createdAt"',
) as (
  text: string,
) => $runtime.TypedSql<
  getCommentReplyThread.Parameters,
  getCommentReplyThread.Result
>

export namespace getCommentReplyThread {
  export type Parameters = [text: string]
  export type Result = {
    id: string | null
    content: string | null
    userId: string | null
    stampId: string | null
    parentId: string | null
    createdAt: $runtime.Decimal | null
    updatedAt: $runtime.Decimal | null
    level: number | null
    user: $runtime.JsonValue | null
    replyToUser: $runtime.JsonValue | null
  }
}
